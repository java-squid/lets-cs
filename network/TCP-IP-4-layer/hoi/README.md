# TCP/IP Protocol Stack 4 Layer

TCP/IP의 4계층은 아래와 같이 구성되어 있다.

- **Application Layer (응용 계층)**
- **Transport Layer (전송 계층)**
- **Internet Layer (인터넷 계층)**
- **Network Interface Layer (네트워크 인터페이스 계층)**

### [1계층] Network Interface Layer (네트워크 인터페이스 계층)

OSI 모델과 비교했을 때 (물리,데이터 링크) 계층에 해당합니다.

### [2계층] **Internet Layer (인터넷 계층)**

인터넷 계층의 가장 큰 역할은 오류 및 진단을 파악합니다. **IP(인터네트워킹 프로토콜)**는 패킷 교환 네트워크를 위해 설계되었지만 신뢰성이 없고 비연결형인 데이터그램 프로토콜이라는 특징을 가지고 있습니다. 따라서 IP는 전달을 위한 최선의 노력(best effort)만을 할 뿐 신뢰성을 위한 행위를 기반하진 않는다고 할 수 있습니다.

**IP(인터네트워킹 프로토콜)**의 이런 특징 때문에 패킷 단위로 나눈 데이터가 유실될 가능성이 있으며 서로 다른 경로로 이동한 패킷의 순서가 보장되지 않는 경우도 있습니다. 이런 부분 때문에 IP는 상위 계층에 의존성을 가집니다.

- IP : 비신뢰성 , 비연결지향
- ARP : IP주소를 물리적인 주소로 변환
- RARP : 물리 주소를 인터넷 주소로 변환
- ICMP : 호스트에게 데이터그램의 문제점 발송 , 조회와 오류보고 메시지를 송신
- IGMP : 수신자 그룹에게 메시지를 동시 전송

### [3계층] **Transport Layer (전송 계층)**

전송 계층은 2개의 프로토콜(TCP , UDP)를 가지고 있습니다.

```jsx
IP는 호스트 간 프로토콜로써 패킷을 물리적인 장치에서 다른 물리적 장치로 전달할 때 사용합니다.
```

**UDP**

UDP는 TCP/IP와 대비해서 **단순한 프로세스**를 가지고 있습니다. 이런 특징 덕분에 속도적인 측면에서 이점을 가져갈 수 있으며 방대한 양의 데이터(비디오 , 큰 사이즈의 이미지 ....)를 송수신할 때 사용합니다.

아래와 같은 정보만을 가지고 통신을 진행합니다.

- 포트 주소
- 검사합
- 오류제어
- 상위 계층으로부터 받은 데이터의 길이

**TCP**

TCP는 신뢰성 있는 스트림 전송 프로토콜이라고 불립니다. UDP에 비해서 서버와 클라이언트 양 종단 간에 연결이 가능한 상태인지를 파악합니다. 이런 과정 덕분에 UDP보다 신뢰성이 있다고 판단되지만 여러 검증 과정을 거쳐야 하기 때문에 속도적인 측면에서는 UDP보다 떨어집니다.

```jsx
**스트림은 연결 지향을 의미**

TCP는 연결 지향을 위해서 3 way handshake를 사용합니다.
```

### **Application Layer (응용 계층)**

OSI 모델과 비교했을 때 TCP/IP의 응용 계층은 OSI 모델의 3계층(세션,표현,응용)을 합친 역할을 합니다. 애플리케이션은 주로 아래와 같은 일들을 수행합니다.

- 웹 브라우저(Port : 20 , 21) : 파일 송수신
- 전자메일(Port : 25 , 110) : 메일 송수신
- 원격 로그인(Port : 23): 원격 터미널 접속
- 네트워크 관리

각 애플리케이션은 독자적인 통신 처리 과정이 필요하며 그 과정을 정의하는게 Application Protocol 입니다.
동작을 위해서 포트 번호를 활용하며 설계자 또는 개발자가 특정 네트워크 통신을 사용하기 위해서는 일반적인 애플리케이션 프로토콜 , 또는 필요에 따라서 독자적인 애플리케이션을 정의할 수 있습니다.
